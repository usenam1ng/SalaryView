# SalaryView — сервис просмотра зарплаты сотрудников, реализованный при помощи FastAPI


## Начало

1. **Клонируйте репозиторий и перейдите в папку проекта:**
   ```bash
   git clone https://github.com/usenam1ng/SalaryView
   cd SalaryView
   ```
2. **Создайте файл .env на основе примера:
   ```bash
   cp .env.example .env
   ```

3. **Запуск через Docker:
   ```bash
   docker build -t salaryview .
   docker run --env-file .env -p 8000:8000 salaryview
   ```

4. **Откройте документацию:
   - Swagger UI: [http://127.0.0.1:8000/docs](http://127.0.0.1:8000/docs)

---

## Основные возможности

- Регистрация пользователя
- Авторизация и получение JWT-токена
- Просмотр своей зарплаты и даты следующего повышения (только для авторизованных пользователей)

---

## Описание API

### 1. Регистрация
**POST** `/users/register`

**Тело запроса:**
```json
{
  "username": "ivan",
  "password": "1234",
  "salary": 50000,
  "update_salary_at": "2024-12-01"
}
```

### 2. Авторизация (получение токена)
**POST** `/users/login`

**Тело запроса:**
```json
{
  "username": "ivan",
  "password": "1234"
}
```

### 3. Получение информации о зарплате
**GET** `/users/me/salary`

**Требуется авторизация!**

В Swagger UI нажмите "Authorize" (иконка замочка справа сверху блока с запросом), вставьте токен в формате:
```
Bearer <ваш_токен>
```

**Ответ:**
```json
{
  "id": 1,
  "username": "ivan",
  "salary": 50000,
  "update_salary_at": "2024-12-01"
}
```

---

## Особенности и рекомендации

- **Безопасность:** Каждый сотрудник видит только свою зарплату. Доступ к данным строго по JWT-токену.
- **Токен:** Получайте токен через `/users/login` и вставляйте его в поле Authorize (Swagger UI) или в заголовок `Authorization` ваших запросов.
- **Swagger UI:** Для авторизации используйте только поле Bearer-токена (замочек справа вверху).
- **Пароли:** Хранятся в базе только в захешированном виде.
